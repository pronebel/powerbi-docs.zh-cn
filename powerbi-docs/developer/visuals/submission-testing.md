---
title: Power BI 视觉对象的提交测试
description: 本文介绍了在发布到 AppSource 之前视觉对象必须通过的测试用例。 还有选项测试用例。
author: KesemSharabi
ms.author: kesharab
ms.reviewer: sranins
ms.service: powerbi
ms.subservice: powerbi-custom-visuals
ms.topic: how-to
ms.date: 04/15/2020
ms.openlocfilehash: 515813aeb98010f838cfff75febbb1ef206bc2cf
ms.sourcegitcommit: 37bd34053557089c4fbf0e05f78e959609966561
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/10/2020
ms.locfileid: "94397475"
---
# <a name="submission-testing-of-a-power-bi-visual"></a>Power BI 视觉对象的提交测试

在将视觉对象发布到 [AppSource](https://appsource.microsoft.com/marketplace/apps?product=power-bi-visuals) 之前，它必须通过本文中所列出的测试。 提交视觉对象之前，请先对其进行测试。 如果视觉对象未通过所需的测试用例，则会被拒绝。

有关发布过程的详细信息，请参阅[将 Power BI 视觉对象发布到合作伙伴中心](./office-store.md)。

## <a name="testing-a-new-version-of-a-published-visual"></a>测试已发布的视觉对象的新版本

如果要测试或调试已发布的视觉对象的新版本，可以在 Power BI Desktop 中启用开发人员模式，用本地文件版本替代 AppSource 版本。

若要启用开发人员模式，请执行以下步骤：

1. 打开 Power BI Desktop。

2.  选择“文件” > “选项和设置” 。

3.  选择“选项”。

4. 在“选项”窗口的“当前文件”列表中，选择“报表设置”。

5. 在开发人员模式中，选择“为此会话打开开发人员模式”选项。

>[!NOTE]
>在 Power BI Desktop 中，开发人员模式仅对一个会话有效。 如果打开新的 Power BI Desktop 实例进行测试，则需要再次启用开发人员模式。

## <a name="general-test-cases"></a>一般测试用例

验证视觉对象是否通过了常规测试用例。

| 测试用例 | 预期结果
| --------- | ----------------
| 创建包含“类别”和“值”的堆积柱形图  。 将其转换为视觉对象，然后再转换回柱形图。 | 进行这些转换后不会出现任何错误。 |
| 创建具有三个度量值的仪表。 将其转换为视觉对象，然后再转换回仪表。 | 进行这些转换后不会出现任何错误。 |
| 在视觉对象中进行选择。 | 其他视觉对象将反映所做的选择。 |
| 选择其他视觉对象中的元素。 | 视觉对象根据其他视觉对象中的选择显示筛选后的数据。 |
| 检查最小/最大 dataViewMapping 条件。 | 字段存储桶可以接受多个字段、单个字段，或由其他存储桶决定。 最小/最大 dataViewMapping 条件必须在视觉对象的功能中正确设置。 |
| 按不同顺序删除所有字段。 | 由于字段是以任意顺序删除的，因此视觉对象会正确清除。 控制台或浏览器中没有任何错误。 |
| 使用每个可能的存储桶配置打开“格式”窗格。 | 此测试不会触发空引用异常。 |
| 在视觉对象、页面和报表级别使用“筛选器”窗格筛选数据。 | 应用筛选器后工具提示正确。 工具提示显示筛选后的值。 |
| 使用切片器筛选数据。 | 应用筛选器后工具提示正确。 工具提示显示筛选后的值。 |
| 使用已发布的视觉对象筛选数据。 例如，选择饼图切片或列。 | 应用筛选器后工具提示正确。 工具提示显示筛选后的值。 |
| 如果支持交叉筛选，请验证筛选器是否正常工作。 | 应用的选择将筛选此页报表上的其他视觉对象。 |
| 使用 Ctrl、Alt 和 Shift 键进行选择。 | 不会出现意外的行为。 |
| 将“视图模式”更改为“实际大小”、“调整到页面大小”和“适应宽度”   。 | 鼠标坐标是准确的。 |
| 调整视觉对象的大小。 | 视觉对象对调整大小做出正确响应。 |
| 将报表大小设置为最小值。 | 没有显示错误。 |
| 确保滚动条正常工作。 | 应有滚动条（如果需要）。 检查滚动条大小。 滚动条不应太宽或太高。 滚动条的位置和大小必须与视觉对象的其他元素一致。 验证不同大小的视觉对象是否需要滚动条。 |
| 将视觉对象固定到仪表板。 | 应正确显示视觉对象。 |
| 将多个版本的视觉对象添加到单个报表页。 | 所有版本的视觉对象均可正常显示和运行。 |
| 将多个版本的视觉对象添加到多个报表页。 | 所有版本的视觉对象均可正常显示和运行。 |
| 在报表页之间切换。 | 视觉对象正常显示。 |
| 测试视觉对象的阅读视图和编辑视图。 | 所有功能均可正常工作。 |
| 如果视觉对象使用动画，请添加、更改和删除视觉对象的元素。 | 视觉对象元素的动画正常工作。 |
| 打开“属性”窗格。 打开和关闭属性，输入自定义文本，强调可用选项，并输入错误数据。 | 视觉对象正确响应。 |
| 保存并重新打开报表。 | 所有属性设置都将保留。 |
| 切换报表中的页面，然后切换回去。 | 所有属性设置都将保留。 |
| 测试视觉对象的所有功能，包括视觉对象提供的不同选项。 | 所有显示和功能均可正常工作。 |
| 测试所有数字、日期和字符数据类型，如以下测试所示。 | 所有数据的格式均正确。 |
| 查看工具提示值、轴标签、数据标签和其他具有格式设置的视觉对象元素的格式。 | 所有元素的格式均正确。 |
| 验证数据标签是否使用格式字符串。 | 所有数据标签的格式均正确。 |
| 为工具提示中的数值打开和关闭自动格式设置。 | 工具提示正确显示值。 |
| 测试具有不同数据类型的数据条目，包括模型中的数字、文本、日期时间和不同格式字符串。 测试不同的数据卷，例如数千行、一行和两行。 | 所有显示和功能均可正常工作。 |
| 向视觉对象提供错误数据，如 null、无穷大、负值和错误的值类型。 | 所有显示和功能均可正常工作。 |

## <a name="optional-browser-testing"></a>可选浏览器测试

AppSource 团队在 Google Chrome、Microsoft Edge 和 Mozilla Firefox 浏览器的最新 Windows 版本上验证视觉对象。
（可选）在以下浏览器中测试视觉对象。

| 测试用例 | 预期结果
| --------- | ----------------
| **Windows** |
| Google Chrome（以前版本） | 所有显示和功能均可正常工作。 |
| Mozilla Firefox（以前版本） | 所有显示和功能均可正常工作。 |
| Microsoft Edge（以前版本） | 所有显示和功能均可正常工作。 |
| Microsoft Internet Explorer 11（可选） | 所有显示和功能均可正常工作。 |
| **macOS** |
| Chrome（以前版本） | 所有显示和功能均可正常工作。 |
| Firefox（以前版本） | 所有显示和功能均可正常工作。 |
| Safari（以前版本） | 所有显示和功能均可正常工作。 |
| **Linux** |
| Firefox（最新版本和以前版本） | 所有显示和功能均可正常工作。 |
| **移动 iOS** |
| Apple Safari iPad（以前的 Safari 版本） | 所有显示和功能均可正常工作。 |
| Chrome iPad（最新的 Safari 版本） | 所有显示和功能均可正常工作。 |
| **移动 Android** |
| Chrome（最新版本和以前版本） | 所有显示和功能均可正常工作。 |

## <a name="desktop-testing"></a>桌面测试

在 [Power BI Desktop](https://powerbi.microsoft.com/en-us/desktop/) 的当前版本中测试视觉对象。

| 测试用例 | 预期结果
| --------- | ----------------
| 测试视觉对象的所有功能。 | 所有显示和功能均可正常工作。 |
| 导入、保存、打开文件，然后使用 Power BI Desktop 中的“发布”按钮发布到 Power BI Web 服务。 | 所有显示和功能均可正常工作。 |
| 通过增加或减少精度，将数字格式字符串更改为具有零个小数位数或三个小数位数。 | 视觉对象正常显示。 |

## <a name="performance-testing"></a>性能测试

视觉对象应在可接受的级别执行。 使用开发人员工具来验证性能。 不要依赖视觉提示和控制台时间日志。

| 测试用例 | 预期结果
| --------- | ----------------
| 创建具有多个视觉对象元素的视觉对象。 | 视觉对象应正常工作，并且不会冻结应用程序。 对于诸如动画速度、调整大小、筛选和选择之类的元素，应该不会出现性能问题。

## <a name="next-steps"></a>后续步骤

有关发布过程的详细信息，请参阅[将 Power BI 视觉对象发布到合作伙伴中心](./office-store.md)。

更多问题？ [在 Power BI 社区提问](https://community.powerbi.com/)。
